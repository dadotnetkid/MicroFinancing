@page "/Batch/{BatchId:long}"

@if (model is not null)
{
    <div class="card">
        <div class="card-body ">
            <div class="row">
                <div class="col-1 mr-1">
                    <div class="symbol symbol-circle symbol-60 ">
                        <span class="symbol-label font-size-h6">
                            @model.Name[0]
                        </span>
                    </div>
                </div>
                <div class="col mr-1">
                    <div class="row">
                        <div class="col">
                            <a style="cursor:pointer" class="text-dark font-weight-bold text-hover-primary font-size-h4 mb-0">@model.Name - @model.Term</a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <small class="text-muted font-weight-bold">@model.AdministeringUser</small>
                        </div>
                    </div>

                </div>
            </div>

            <hr />
            <div class="row pr-5 pl-5">
                <div class=" col-sm-12  col-lg-4 ">
                    <div class="row">
                        <div class="col-2">
                            <i class="fas fa-money-bill fa-2x mt-1 mr-1"></i>
                        </div>
                        <div class="col">
                            <h5 class="text-muted mb-1 font-weight-bolder">
                                Amount
                            </h5>
                            <b class="text-muted">₱ @model.Amount.ToString("n2")</b>
                        </div>
                    </div>
                </div>

                <div class="col-sm-12  col-lg-4">
                    <div class="row">
                        <div class="col-2 ">
                            <i class="far fa-credit-card fa-2x mt-1"></i>
                        </div>
                        <div class="col">
                            <h5 class="text-muted mb-1 font-weight-bolder">
                                Participants
                            </h5>
                            <b class="text-muted">@model.Participants</b>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <div class="row mt-2">
        <div class="col-lg-6 col-sm-12">
            <div class="card">
                <div class="card-header">
                    <div class="float-left">
                        <b class="text-muted">Participants</b>
                    </div>
                    <div class="float-right">

                        <Syncfusion.Blazor.Buttons.SfButton IconCss="fas fa-plus" OnClick="OnAddParticipant"/>
                    </div>
                </div>
                <div class="card-body">
                    <Participants BatchId="model.Id" @ref="Participants"></Participants>
                </div>
            </div>

        </div>
        <div class="col-lg-6 col-sm-12">
            <div class="card">
                <div class="card-header">
                    <div class="float-left">
                        <b class="text-muted">Payments</b>
                    </div>
                    <div class="float-right">
                        <Syncfusion.Blazor.Buttons.SfButton IconCss="fas fa-plus" />

                    </div>
                </div>
                <div class="card-body">
                </div>
            </div>

        </div>
    </div>
    <AddParticipant @ref="AddParticipantRef" BatchId="model.Id" OnSuccessCreateParticipant="OnSuccessCreateParticipant" />
}
